{% extends "base.html" %}

{% block title %}Code Formatter{% endblock %}

{% block header_left %}
<button class="back-to-menu" onclick="window.location.href='/menu'" title="Back to Dashboard">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2">
        <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
    Menu
</button>
{% endblock %}

{% block extra_head %}
<link href="{{ url_for('static', filename='css/code-formatter-styles.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="code-formatter-container">
    <div class="page-header">
        <p class="page-description">Format code in any language with IntelliJ-style standards or convert to one-line</p>
    </div>

    <div class="controls">
        <div class="control-group">
            <label for="languageSelect">Language:</label>
            <select id="languageSelect" class="language-select">
                <option value="javascript">JavaScript</option>
                <option value="typescript">TypeScript</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="c">C</option>
                <option value="cpp">C++</option>
                <option value="csharp">C#</option>
                <option value="go">Go</option>
                <option value="rust">Rust</option>
                <option value="swift">Swift</option>
                <option value="kotlin">Kotlin</option>
                <option value="ruby">Ruby</option>
                <option value="php">PHP</option>
                <option value="html">HTML</option>
                <option value="xml">XML</option>
                <option value="css">CSS</option>
                <option value="scss">SCSS</option>
                <option value="less">LESS</option>
                <option value="sql">SQL</option>
                <option value="json">JSON</option>
                <option value="bash">Bash</option>
                <option value="shell">Shell</option>
            </select>
        </div>
        <div class="button-group">
            <button class="btn-primary" onclick="formatStandard()">Format (IntelliJ Style)</button>
            <button class="btn-secondary" onclick="formatOneLine()">Convert to One Line</button>
            <button class="btn-success" onclick="copyFormatted()">Copy Formatted Code</button>
            <button class="btn-clear" onclick="clearAll()">Clear All</button>
        </div>
    </div>

    <div class="editor-area">
        <div class="editor-panel">
            <div class="panel-header">
                <span>Input Code</span>
                <button class="paste-btn" onclick="pasteFromClipboard()" title="Paste from clipboard">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                    </svg>
                    Paste
                </button>
            </div>
            <textarea id="inputCode" class="code-editor" placeholder="Paste your code here..."></textarea>
        </div>
        <div class="editor-panel">
            <div class="panel-header">
                <span>Formatted Code</span>
                <span id="charCount" class="char-count">0 characters</span>
            </div>
            <textarea id="outputCode" class="code-editor" placeholder="Formatted code will appear here..." readonly></textarea>
        </div>
    </div>

    <div class="info-section">
        <div class="info-card">
            <div class="info-icon">üìù</div>
            <div class="info-content">
                <h4>IntelliJ Style</h4>
                <p>Formats code with standard 4-space indentation, proper line breaks, and clean structure</p>
            </div>
        </div>
        <div class="info-card">
            <div class="info-icon">üìè</div>
            <div class="info-content">
                <h4>One Line</h4>
                <p>Minifies code to a single line, removing comments and extra whitespace</p>
            </div>
        </div>
        <div class="info-card">
            <div class="info-icon">üìã</div>
            <div class="info-content">
                <h4>Easy Copy</h4>
                <p>Formatted code is ready to copy with a single click</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/code-formatter.js') }}"></script>
{% endblock %}

{% block about_title %}About Code Formatter{% endblock %}

{% block about_content %}
<section class="about-section">
    <h4>üíª Code Formatter</h4>
    <p>Format code in any language with IntelliJ-style standards or convert to one-line format for easy sharing.</p>
</section>

<section class="about-section">
    <h5>‚ú® Key Features</h5>
    <ul class="feature-list">
        <li><strong>Multi-Language Support</strong> - Supports 20+ programming languages</li>
        <li><strong>IntelliJ-Style Formatting</strong> - Standard 4-space indentation with clean structure</li>
        <li><strong>One-Line Conversion</strong> - Minify code to a single line</li>
        <li><strong>Easy Copy</strong> - Copy formatted code with a single click</li>
        <li><strong>Comment Removal</strong> - Automatically removes comments in one-line mode</li>
        <li><strong>Clipboard Support</strong> - Paste directly from clipboard</li>
        <li><strong>Character Count</strong> - See the length of formatted output</li>
    </ul>
</section>

<section class="about-section">
    <h5>üöÄ How to Use</h5>
    <ol>
        <li>Select your programming language from the dropdown</li>
        <li>Paste or type your code in the input area</li>
        <li>Click "Format (IntelliJ Style)" for standard formatting</li>
        <li>Click "Convert to One Line" to minify the code</li>
        <li>Use "Copy Formatted Code" to copy the result</li>
    </ol>
</section>

<section class="about-section">
    <h5>üåê Supported Languages</h5>
    <ul class="feature-list">
        <li>JavaScript, TypeScript, Python, Java</li>
        <li>C, C++, C#, Go, Rust</li>
        <li>Swift, Kotlin, Ruby, PHP</li>
        <li>HTML, XML, CSS, SCSS, LESS</li>
        <li>SQL, JSON, Bash, Shell</li>
    </ul>
</section>

<section class="about-section">
    <h5>üí° Tips</h5>
    <ul class="feature-list">
        <li><strong>IntelliJ Style</strong> - Best for code readability and version control</li>
        <li><strong>One Line</strong> - Useful for sharing code snippets or testing minification</li>
        <li><strong>Preserve Logic</strong> - Formatting doesn't change code behavior</li>
    </ul>
</section>

<section class="about-section">
    <p><strong>Version:</strong> 1.0</p>
</section>
{% endblock %}
