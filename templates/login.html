<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="{{ url_for('static', filename='css/auth-styles.css') }}" rel="stylesheet">
</head>
<body>
    <div class="grid-overlay"></div>

    <!-- Theme Selector -->
    <div class="theme-selector">
        <label for="themeSelect">
            <svg class="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zm0-10c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0-4c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1s-1 .448-1 1v2c0 .552.448 1 1 1zm0 20c-.552 0-1 .448-1 1v2c0 .552.448 1 1 1s1-.448 1-1v-2c0-.552-.448-1-1-1zM5.64 6.64c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L4.926 3.511c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414L5.64 6.64zm12.72 12.72c-.195-.195-.451-.293-.707-.293s-.512.098-.707.293c-.391.391-.391 1.023 0 1.414l2.128 1.715c.391.391 1.023.391 1.414 0s.391-1.023 0-1.414l-2.128-1.715zM1 12c0 .552.448 1 1 1h2c.552 0 1-.448 1-1s-.448-1-1-1H2c-.552 0-1 .448-1 1zm20 0c0 .552.448 1 1 1h2c.552 0 1-.448 1-1s-.448-1-1-1h-2c-.552 0-1 .448-1 1zM6.347 17.653c.391.391.391 1.023 0 1.414l-2.128 1.715c-.391.391-1.023.391-1.414 0s-.391-1.023 0-1.414l2.128-1.715c.391-.391 1.023-.391 1.414 0zm11.306-11.306c-.391-.391-.391-1.023 0-1.414l2.128-1.715c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.128 1.715c-.391.391-1.023.391-1.414 0z"/>
            </svg>
            Theme:
        </label>
        <select id="themeSelect" onchange="changeTheme(this.value)">
            <option value="system">System</option>
            <option value="dark">Dark</option>
            <option value="light">Light</option>
        </select>
    </div>

    <div class="auth-container">
        <h2>Welcome Back</h2>
        <p class="subtitle">Sign in to your account</p>

        {% if error %}
        <div class="error-message">{{ error }}</div>
        {% endif %}

        <form method="POST" id="loginForm">
            <div class="input-group">
                <input type="text" name="username" placeholder="Username" required>
            </div>

            <div class="input-group">
                <input type="password" name="password" id="password" placeholder="Password" required>
                <span class="password-toggle" onclick="togglePassword()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                </span>
            </div>

            <div class="remember-me">
                <input type="checkbox" id="remember" name="remember">
                <label for="remember">Remember me</label>
            </div>

            <button type="submit" id="submitBtn">
                <span id="btnText">Sign In</span>
            </button>
        </form>

        <div class="divider">
            <span>or</span>
        </div>

        <div class="auth-link">
            <p>Don't have an account? <a href="/register">Create one</a></p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/auth-theme.js') }}"></script>
    <script src="{{ url_for('static', filename='js/login-auth.js') }}"></script>
</body>
</html>